## TODO

### Планы
- [ ] Интеграция с облачными хранилищами

### Не сейчас
- [ ] Переписать навигацию

### Мелочи
- [ ] Улучшить поведение валидации названия плейлиста
- [ ] Изменить период обновления прогресса трека
- [ ] Открывать приложение И ПЛЕЕР при нажатии на уведомление

### Задачи
- [ ] Довести до ума хранение треков для плейлистов
- [ ] Сделать и заполнить экран About
- [ ] Вынести список всех треков в репозиторий
- [ ] Пункт сортировки "В моём порядке"
- [ ] Упростить кодовую часть меню трека, согласовать пункты меню с пунктами в большом плеере
- [ ] Сделать функционал скрытия треков

### Оптимизации
- [ ] Оптимизировать D&D

### Архитектура
- [ ] Вынести некоторые константы

### UI/UX
- [ ] Заменить некоторые иконки
- [ ] Нормальная замена отсутсвующих иконок
- [ ] Добавлять темы
- - [ ] Розовая тема с хелло китти
- [ ] Swipe to refresh

### Баги
- [ ] RepeatMode иногда отображается не тот
- [ ] NullPointerException в DnD
- [ ] Блики в DnD
- [ ] Изменить способ получения частоты экрана в DnD
- [ ] Проверить, что происходит с очередью при добавлении уже существующего трека
- [ ] !!!Улучшить логику настроек эквалайзера, применять настройку после получения ответа от сервиса!!!

### Фичи
- [ ] Обрезка изображения для альбома
- [ ] Поиск
- [ ] Рассмотреть поддержку типов аудиофайлов, не попадающих под IS_MUSIC

### На следующее обновление
- [ ] Заменить контекст на апп
- [ ] Бассбуст
- [ ] Очередь треков
- [ ] Хранить иконки плейлистов в приложении
- [ ] Убирать и показывать Вкладки при скролле
- [ ] Добавить лоадер для списка всех треков и в остальных местах
- [ ] Изменить цвета плеера, когда нет картинки
- [ ] Нормальная замена отсутсвующих иконок
- [ ] Сделать списки треков в плейлистах разными компонентами
- [ ] Изменить настройки Marquee
- [ ] Skip Silence
- [ ] Проверить, как будет себя вести плеер при звонке
- [ ] Оптимизировать список всей музыки
- [ ] Переписать UX удаления трека из плейлиста
- [ ] Адаптировать цвета иконок под светлую тему
- [ ] Починить баг, когда после добавления треков в плейлист, обложка меняется не сразу
- [ ] Улучшить фильтр по артистам, определять артистов через запятую
- [ ] Свайп вниз для закрытия большого плеера
- [ ] Красивый запрос разрешений (можно через диалоги)
- [ ] Обработать все кейсы с разрешениями
- [ ] На некоторых прошивках приложение вылетает без предоставленного разрешения, потому что получения списка музыки происходит при инициализации приложения
- [ ] !!!Менять цвет статус бара!!!
- [ ] !!!Поддержка разных NavBars!!!
- [ ] Шрифт
- [ ] Перемещение свайпами во всей музыке
- [ ] Затемнение эквалайзера
- [ ] Убирать фокус при нажатии сохранить
- [ ] Запрашивать разрешение на открытие файла
- [ ] Починить баг с открытым приложением
- [ ] Убрать краш при запуске при попытке парсинга некорректного аудиофайла
- [ ] При нажатии cancel запускать диалог только при наличии изменений


## Обновления

### Обновление 0.0.6-alpha
- [ ] Переход на Flow
- - [x] EditPlaylistViewModel
- [x] Обновление до последних версиц библиотек
- [ ] Поллердка андроид 15



## Прошедшие обновления

### Обновление 0.0.5-alpha
- [x] Возможность открывать аудиофайлы через приложение
- [x] Мелкие исправления

**MusicPlayer версия 0.0.5-alpha**

**Нововведения:**
- Возможность открывать аудиофайлы через приложение! При выборе приложения для открытия аудиофайла будет отображаться "Fast Player" или "Быстрый плеер" в зависимости от локализации системы. При нажатии будет открыт новый милый мини-плеер.

**Прочее:**
- Мелкие исправления и улучшения
- 

### Обновление 0.0.4-alpha
**Баги**
- [x] BottomBar едет

**Анимация**
- [x] Анимация иконок навбара
- [x] Сделать удаление треков из плейлиста менее резким

**Дизайн**
- [x] Улучшить SpashScreen
- [x] Цвета NavBar
- [x] Закругление списка треков в плейлисте
- [x] Исправлен цвет BottomNavBar

**Мелкие таски**
- [x] Снимать фокус при cancel при создании плейлиста
- [x] Сбрасывать прогресс при переключении трека
- [x] Изменить способ получения частоты экрана в DnD локально

**Средние таски**
- [x] Сделать так, чтобы при отсутствии иконки плейлиста показывались иконки треков из него

**Шахта**
- [x] Кеширование плейлистов
- [x] Эквалайзер

**MusicPlayer версия 0.0.4-alpha**

**Нововведения:**
- Эквалайзер! 5 полосный эквалайзер для регулировки громкости разных зон частотного диапазона звука
- При отсутствии иконок в плейлисте отображаются иконки первых 4-х треков из него
- Анимация иконок на нижней панели

**Улучшения:**
- Доработан SplashScreen(но он всё так же плох)

**Оптимизация:**
- Добавлено кеширование плейлистов

**Исправления:**
- Исправлен баг с залезающей под кнопки управления нижней панелью
- Исправлен несбрасывающийся прогресс при переключении трека через уведомление, когда проигрывание остановлено

**Прочее:**
- Возвращены старые цвета NavBar
- Мелкие улучшения в дизайна и пользовательского опыта


### Обновление 0.0.3-alpha
- [x] Изменить цвета плеера для светлой темы
- [x] Сделать анимации по 300ms
- [x] Сделать всем экранам фон и переделать анимации
- [x] Отступ для плеера на всех экранах
- [x] Починить прозрачные анимации
- [x] Добавить везде, где надо, скролл
- [x] Заменить TopBar на аналог из material
<br><br>
- [x] Сделать так, чтобы при включении shuffle выбранный трек находился в начале очереди
- [x] Играть следующим
- [x] Добавить в очередь
<br><br>
- [x] Сделать экран настроек
- - [x] Смена темы
- - [x] Смена языка
<br><br>
- [x] SplashScreen
<br><br>
- [x] Добавить DI
- [x] Переезд на material 1.3.0 и compose 1.7.0 и navigation 2.8.0
- [x] Удалить однострочные юзкейсы
- [x] Переписать навигацию

**MusicPlayer версия 0.0.3-alpha**

**Нововведения:**
- Новый экран настроек
- - Настройка темы и языка приложения
- Тестовый Splash Screen (будет переработан)
- Функция "Играть следующим"
- Функция "Добавить в очередь"

**Улучшения:**
- Переработаны цвета большого плеера и адаптированы под светлую тему
- Переработаны анимации. Теперь инерфейс стал намного отзывчивее и плавнее
- Сделан отступ под мини-плеер на всех экранах
- Добавлен скролл на некоторых экранах
- Переработана верхняя панель
- Переписана система навигации

**Исправления:**
- Исправлены прозрачные анимации
- Теперь при включении перемешивания выбранный трек будет находиться в начале очереди

**Прочее:**
- Переезд на новые стабильные версии библиотек material, compose и jetpack navigation
- Добавление DI в архитектуру проекта
- Мелкие улучшения кода


### Обновление 0.0.2-alpha
- [x] Обрезать кнопку добавления плейлиста
<br><br>
- [x] Поработать над цветами, подобрать светлую и тёмную темы
<br><br>
- [x] Сортировка по исполнителю/альбому
- [x] Запоминать скролл списка треков, исполнителей, албомов
<br><br>
- [x] Переделать цвета BigPlayer
- [x] Заменить song_added_toast на SnackBar или добавить название плейлиста в Toast
- [x] При нажатии на уведомление открывается приложение

**MusicPlayer версия 0.0.2-alpha**

**Нововведения:**
- Добавлена сортировка треков по альбомам и артистам. Для перключения между режимами сделано верхнее меню вкладок. Названия альбомов и имена исполнителей в соответвующих списках кликабельны

**Улучшения:**
- Переработка темы. Подобраны тёмная и светлая тема, пока выбор зависит только от темы устройства
- Переработка цвета выбранных трека/плейлиста в соответствии с material 3
- Переработка цвета фона в большом плеере. Теперь цвет контента зависеть от яркости фона. С самими фонами артефактов теперь будет меньше
- Изменён вид списка плейлистов. Карточки стали аккуратнее
- При добавлении трека в плейлист теперь пявляется аккуратный снекбар, вместо тоста
- При нажатии на уведомление плеера открывается приложение

**Прочее:**
- Местами изменена длительность анимаций
- Готова система настроек


### Обновление 0.0.1-alpha
- [x] Исправить надпись после добавления трека в плейлистнадпись после добавления трека в плейлист XXX
- [x] Исправить поведение, при котором, если нажать на паузу и сменить текущий трек, прогресс проигрывания не сбрасывается XXX
- [x] Добавить новый экран "Прочее" XXX
- - [x] Заполнить его
- [x] Сделать систему настроек
- [X] Сделать систему диалогов XXX
- - [x] Да/Нет диалог
- - [x] Информационный диалог
- - [x] Вызывать диалог при попытке использовать нереализованный функционал
- - [x] Вызывать диалоговое окно при удалении плейлиста
- - [x] Вызывать диалоговое окно при удалении трека из плейлиста
- - [x] Вызывать диалоговое окно при выходе из окна редактирования плейлиста
- [x] Реализовать Drag&Drop для списка треков в плейлистах XXX
- [x] Удаление треков из плейлиста XXX
- [x] Сделать валидацию названия плейлиста XXX
- [x] Уменьшить навбар XXX
- [x] Кнопка поделиться треком XXX
- [x] Исправить краш при попытке добавить трек в плейлист второй раз XXX
- [x] Сортировать треки по алфавиту XXX
- [x] Убрать проверку на длительность аудиофайла и вместо этого проверять его тип XXX

**MusicPlayer версия 0.0.1-alpha**

**Нововведения:**
- Система диалогов. Реализованы два типа диалогов, показ диалога при удалении плейлиста или трека, выходе из окна редактирования плейлиста и попытке использовать нереализованный функционал
- Добавлен новый экран "Прочее". В последующих обновлениях его вкладки будут обретать функционал
- Drag&Drop в плейлистах. Можно изменять порядкок треков простым перетаскиванием после долгого нажатия
- Удаление треков из плейлиста с помощью свайпа вправо по треку
- Возможность делиться музыкой. В большом плеере в меню, появляющимся при нажатии на 3 точки, появилась новая кнопка для этого.

**Улучшения:**
- Уменьшена и слегка переработана нижняя навигационная панель
- Список всех треков теперь сортируется по алфавиту
- Добавлена валидация названия плейлиста
- Изменён подход к определению медиафайлов как музыки

**Исправления:**
- Исправлена надпись после добавления трека в плейлист
- Исправлено поведение, при котором, если нажать на паузу и сменить текущий трек, прогресс проигрывания не сбрасывается
- Исправлен краш при попытке добавить трек в плейлист второй раз

**Прочее:**
- реализована система настроек для следующего обновления